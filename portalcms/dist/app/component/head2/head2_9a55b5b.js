define("app/component/head2/head2",function(e,n,i){"use strict";function t(){var e='{{^islogin}}\r\n<div class="unlogin">\r\n	<input type="button" value="登录" id="loginBtn">\r\n	<input type="button" value="注册" id="regBtn">\r\n</div>\r\n{{/islogin}}\r\n{{#islogin}}\r\n<div class="inlogin">\r\n	<a href="javascript:void(0)" class="photo"></a>\r\n	<div class="item-container">\r\n		<div class="item" data-key="usercenter"><a href="javascript:void(0)">个人中心</a></div>\r\n		<div class="item" data-key="suggest"><a href="javascript:void(0)" >意见反馈</a></div>\r\n		<div class="item" data-key="exit"><a href="javascript:void(0)" >退出</a></div>\r\n	</div>\r\n</div>\r\n{{/islogin}}';f.parse(e);var n=m.getLoginState(),i=f.render(e,n),t=document.querySelector(".header2 .login");t.innerHTML=i,n.islogin?a():o()}function a(){var e=document.querySelector(".header2 .photo"),n=document.querySelector(".header2 .inlogin"),i=document.querySelector(".header2 .item-container"),t=document.querySelectorAll(".header2 .item");m.listen(e,"mouseover",function(){i.style.display="block"}),m.mouseleave(n,function(){i.style.display="none"}),[].slice.call(t).forEach(function(e){m.listen(e,"click",function(){var n=e.getAttribute("data-key");if(n)switch(n){case"exit":c()}})})}function o(){var n=document.getElementById("loginBtn");m.listen(n,"click",function(){var n=e("app/component/logindialog/logindialog");n.create(function(){t()})});var i=document.getElementById("regBtn");m.listen(i,"click",function(){window.location.href="/app/page/register/register.html",v&&v()})}function c(){m.clearCookie("islogin"),t()}function l(){var e=document.querySelectorAll(".main-nav > ul li");[].slice.call(e).forEach(function(e,n){m.listen(e,"click",function(){d&&d(n)}),m.listen(e,"mouseover",function(){"active"!==e.className&&(e.className="hover")}),m.listen(e,"mouseout",function(){"active"!==e.className&&(e.className="")})})}function r(e){var n=document.querySelectorAll(".main-nav > ul li");[].slice.call(n).forEach(function(n,i){n.className="",i==e&&(n.className="active")})}function s(e){d=e}function u(e){v=e}var d,v,m=e("app/tool/Tool"),f=e("lib/mustache.min");t(),l(),i.exports={setActive:r,setNavClickCallBack:s,setRegBtnCallBack:u}});